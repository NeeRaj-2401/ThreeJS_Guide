# Guide to setup and understand three.js as a beginner

---
#### Prerequisites:

Before starting with the guide of three.js, ensure you have a basic understanding of HTML, CSS, JavaScript, and DOM manipulation.

## 1. Basic init three.js with vanilla vite

Before starting with the guide of this `three.js`, ensure you have created a vanilla js project with `npm create vite@latest .` and installed the Three.js library by running `npm i three`

remove all the garbage :) generated by vite inside `index.html` and `main.js`.

and then put the following snippet in `index.html`:

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>

  <body>
    <canvas id="webgl"></canvas>
    <script type="module" src="/main.js"></script>
  </body>
</html>
```

and in `main.js`, put the following snippet:

```js
import "./style.css";
import * as THREE from "three";
const canvas = document.getElementById("webgl");

const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(
  75,
  window.innerWidth / window.innerHeight,
  0.1,
  1000
);
camera.position.set(0, 0, 5);

const renderer = new THREE.WebGLRenderer({ canvas, antialias: true });
document.body.appendChild(renderer.domElement);
// until above lines of code we won't see anything, cause we haven't tell renderer to render the things

// at the end render the whole scene (which contains objects and all) & camera to the canvas only ONCE
renderer.render(scene, camera);
// we will see blank screen (that means canvas is now rendered with scene having zero objects)
```

## 2. Let's add a Cube Object in scene

add the given code snippet above `renderer.render();`

```js
// Create a basic cube
const geometry = new THREE.BoxGeometry();
const material = new THREE.MeshNormalMaterial();
const cube = new THREE.Mesh(geometry, material);
scene.add(cube);
```

You might notice an issue where the cube appears blurred.

### 2a. To resolve the blurriness of Cube

To fix the blurriness of the cube, add the following snippet immediately after declaring the `renderer`.

```js
renderer.setSize(window.innerWidth, window.innerHeight);
```

This will ensure that the renderer size matches the window size, preventing blurriness.

## 3. Understanding Axis System in three js

To understand positioning and rotation, let's visualize the cube w.r.t three.js's `axisHelper`

```js
// Create axes helper
const axesHelper = new THREE.AxesHelper(4);
scene.add(axesHelper);
```

Now, you might not notice z-axis, because camera is in linear with the z-axis, to noticing the z-axis, lets move camera a little bit away from z-axis by moving over x and y axis. Adjust the snippet `camera.position.set()` line with

```js
camera.position.set(0.5, 0.5, 5);
```

Great, try shifting the position and rotation of cube to have more insights how these things works.

```js
cube.rotation.set(Math.PI / 4, 0, 0);
cube.position.set(2, 0, 0);
```

Perfect !!!

## 3. Animating The Cube

As of now, We have understood positioning and rotations, but what about continuous rotation (i.e. animation)?

Here we go,
As i mentioned earlier `renderer.render()` renders the things only once, so we need to find a method which keeps doing `renderer.render` with changes on scene/objects.

and that's

```js
function animate() {
  cube.rotation.x += 0.05;
  renderer.render(scene, camera);
  requestAnimationFrame(animate);
}
animate();
```

we use `requestAnimationFrame(animate)` to request the browser to call the `animate()` function again before the next repaint. This creates a loop, resulting in smooth animation.

## 4. Adding Controls / interactivity

Hmm, As of now we have added a cube and animations to it, but what about interactivity? what if user wants to play with 3D space, move around the object to see it from all directions?

for that instance we need to add controls to camera, so that we can move camera around scene/objects to see them properly.

```js
import { OrbitControls } from "three/examples/jsm/controls/OrbitControls";

const controls = new OrbitControls(camera, renderer.domElement);
controls.update(); // imp to initialize OrbitControls properly
```

## 5. Window resize handler

Now let's make the everything responsive when the window is resized.,

```js
function onWindowResize() {
  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
}

window.addEventListener("resize", onWindowResize);
```

## Bonus (Texture / color to cube)

At this point, we are done with setting up a very basics of three.js, before wrapping up, lets customize our cube :)

```js
const material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
```

or

```js
import textureImg from "./texture.png"; // Import your texture image

const texture = new THREE.TextureLoader().load(textureImg);
const material = new THREE.MeshBasicMaterial({ map: texture });
```

# Thanks BYE !!!,
